(this["webpackJsonpredux-anecdotes"]=this["webpackJsonpredux-anecdotes"]||[]).push([[0],{27:function(e,t,n){e.exports=n(55)},55:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),u=n.n(c),o=n(4),i=n(24),s=n(7),l=n(25),f=n(1),d=n.n(f),p=n(2),v=n(26),E=n(6),m=n(9),b=n.n(m),h="http://localhost:3001/anecdotes",O={getAll:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(h);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getVote:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put("".concat(h,"/").concat(t.id),Object(E.a)({},t,{votes:t.votes+1}));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createAnecdote:function(){var e=Object(p.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={content:t,votes:0},e.next=3,b.a.post(h,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteAnecdote:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.delete("".concat(h,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_ANECDOTES":return t.data;case"INCREASE_VOTE":return e.map((function(e){return e.id!==t.data.id?e:Object(E.a)({},e,{votes:e.votes+1})}));case"ADD_ANECDOTE":return[].concat(Object(v.a)(e),[t.data]);case"DELETE_ANECDOTE":return Object(E.a)({},e,{anecdotes:e.anecdotes.filter((function(e){return e.id!==t.data.id}))});default:return e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER":return t.data;default:return e}},j={message:""},A=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"NEW",data:'You created: "'.concat(e,'"')}),setTimeout((function(){return n({type:"REMOVE",data:""})}),5e3);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW":case"VOTE":case"REMOVE":return Object(E.a)({},e,{message:t.data});default:return e}},g=Object(s.combineReducers)({anecdotes:w,filter:y,notification:x}),T=Object(s.createStore)(g,Object(l.composeWithDevTools)(Object(s.applyMiddleware)(i.a))),N=function(e){var t=e.anecdotes,n=e.filter;return t.filter((function(e){return e.content.toLowerCase().includes(n.toLowerCase())}))},k={setVote:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.getVote(e);case 2:r=t.sent,n({type:"INCREASE_VOTE",data:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteAnecdote:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.deleteAnecdote(e);case 2:r=t.sent,n({type:"DELETE_ANECDOTE",data:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},newNotification:A,voteNotification:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"VOTE",data:'You voted for: "'.concat(e,'"')}),setTimeout((function(){return n({type:"REMOVE",data:""})}),5e3);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},C=Object(o.b)((function(e){return{anecdotesToShow:N(e)}}),k)((function(e){return a.a.createElement("div",null,a.a.createElement("h1",null,"Anecdotes"),e.anecdotesToShow.map((function(t){return a.a.createElement("div",{key:t.id},a.a.createElement("p",null,t.content),a.a.createElement("p",null,t.votes," votes \xa0",a.a.createElement("button",{onClick:function(){return n=t,e.setVote(n),void e.voteNotification(n.content);var n}},"vote")," \xa0",a.a.createElement("button",{onClick:function(){return n=t.id,void e.deleteAnecdote(n);var n}},"delete")),a.a.createElement("hr",null))})))})),D={setAnecdote:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.createAnecdote(e);case 2:r=t.sent,n({type:"ADD_ANECDOTE",data:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},newNotification:A},V=Object(o.b)(null,D)((function(e){var t=function(){var t=Object(p.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),r=n.target.anecdote.value,n.target.anecdote.value="",e.setAnecdote(r),e.newNotification(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement("h2",null,"Create New Anecdote"),a.a.createElement("form",{onSubmit:function(e){return t(e)}},a.a.createElement("input",{type:"text",name:"anecdote"}),a.a.createElement("br",null),a.a.createElement("button",{type:"submit"},"Add")))})),S=Object(o.b)(null,{setFilter:function(e){return{type:"FILTER",data:e}}})((function(e){return a.a.createElement("div",null,a.a.createElement("h2",null,"Filter anecdotes"),a.a.createElement("label",{htmlFor:"filter"},"Filter:"),a.a.createElement("input",{type:"text",name:"filter",onChange:function(t){var n,r=t.target;return n=r.value,void e.setFilter(n)}}))})),F=Object(o.b)((function(e){return{notification:e.notification}}),null)((function(e){var t=e.notification.message;return t?a.a.createElement("div",{style:{border:"solid",padding:10,borderWidth:2}},t):null})),I={initialiseAnecdotes:function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getAll();case 2:n=e.sent,t({type:"INIT_ANECDOTES",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},R=Object(o.b)(null,I)((function(e){return Object(r.useEffect)((function(){e.initialiseAnecdotes()}),[e]),a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Programming Anecdotes"),a.a.createElement(F,null),a.a.createElement(C,null),a.a.createElement(V,null),a.a.createElement(S,null))}));u.a.render(a.a.createElement(o.a,{store:T},a.a.createElement(R,null)),document.querySelector("#root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.9db8e750.chunk.js.map